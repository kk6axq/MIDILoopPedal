EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "MIDI Loop Pedal"
Date "2021-09-09"
Rev "1"
Comp "Lukas Severinghaus"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Teensy:Teensy4.1 U2
U 1 1 613AA26D
P 3000 3650
F 0 "U2" H 3000 6215 50  0000 C CNN
F 1 "Teensy4.1" H 3000 6124 50  0000 C CNN
F 2 "" H 2600 4050 50  0001 C CNN
F 3 "" H 2600 4050 50  0001 C CNN
	1    3000 3650
	1    0    0    -1  
$EndComp
$Comp
L Connector:DIN-5_180degree J2
U 1 1 613B4573
P 9800 3600
F 0 "J2" H 9800 3325 50  0000 C CNN
F 1 "Output" H 9800 3234 50  0000 C CNN
F 2 "" H 9800 3600 50  0001 C CNN
F 3 "http://www.mouser.com/ds/2/18/40_c091_abd_e-75918.pdf" H 9800 3600 50  0001 C CNN
	1    9800 3600
	1    0    0    -1  
$EndComp
$Comp
L Connector:DIN-5_180degree J1
U 1 1 613B615C
P 7800 3600
F 0 "J1" H 7800 3325 50  0000 C CNN
F 1 "Input" H 7800 3234 50  0000 C CNN
F 2 "" H 7800 3600 50  0001 C CNN
F 3 "http://www.mouser.com/ds/2/18/40_c091_abd_e-75918.pdf" H 7800 3600 50  0001 C CNN
	1    7800 3600
	1    0    0    -1  
$EndComp
$Comp
L Isolator:6N138 U1
U 1 1 613B63CB
P 8450 1600
F 0 "U1" H 8450 2067 50  0000 C CNN
F 1 "6N138" H 8450 1976 50  0000 C CNN
F 2 "" H 8740 1300 50  0001 C CNN
F 3 "http://www.onsemi.com/pub/Collateral/HCPL2731-D.pdf" H 8740 1300 50  0001 C CNN
	1    8450 1600
	1    0    0    -1  
$EndComp
$Comp
L Device:D D1
U 1 1 613B75A6
P 7850 1600
F 0 "D1" V 7550 1550 50  0000 L CNN
F 1 "1N4148" V 7650 1450 50  0000 L CNN
F 2 "" H 7850 1600 50  0001 C CNN
F 3 "~" H 7850 1600 50  0001 C CNN
	1    7850 1600
	0    1    1    0   
$EndComp
$Comp
L Device:R R2
U 1 1 613B7AE8
P 8950 1500
F 0 "R2" V 9157 1500 50  0000 C CNN
F 1 "10k" V 9066 1500 50  0000 C CNN
F 2 "" V 8880 1500 50  0001 C CNN
F 3 "~" H 8950 1500 50  0001 C CNN
	1    8950 1500
	0    -1   -1   0   
$EndComp
$Comp
L Device:C C1
U 1 1 613B83F1
P 6350 1500
F 0 "C1" H 6465 1546 50  0000 L CNN
F 1 "0.1u" H 6465 1455 50  0000 L CNN
F 2 "" H 6388 1350 50  0001 C CNN
F 3 "~" H 6350 1500 50  0001 C CNN
	1    6350 1500
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0101
U 1 1 613B8936
P 6350 1300
F 0 "#PWR0101" H 6350 1150 50  0001 C CNN
F 1 "+5V" H 6365 1473 50  0000 C CNN
F 2 "" H 6350 1300 50  0001 C CNN
F 3 "" H 6350 1300 50  0001 C CNN
	1    6350 1300
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR0102
U 1 1 613B8D8B
P 9600 1700
F 0 "#PWR0102" H 9600 1550 50  0001 C CNN
F 1 "+3.3V" H 9615 1873 50  0000 C CNN
F 2 "" H 9600 1700 50  0001 C CNN
F 3 "" H 9600 1700 50  0001 C CNN
	1    9600 1700
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0103
U 1 1 613B92F8
P 6350 1700
F 0 "#PWR0103" H 6350 1450 50  0001 C CNN
F 1 "GND" H 6355 1527 50  0000 C CNN
F 2 "" H 6350 1700 50  0001 C CNN
F 3 "" H 6350 1700 50  0001 C CNN
	1    6350 1700
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0104
U 1 1 613BA8C0
P 8750 1150
F 0 "#PWR0104" H 8750 1000 50  0001 C CNN
F 1 "+5V" H 8765 1323 50  0000 C CNN
F 2 "" H 8750 1150 50  0001 C CNN
F 3 "" H 8750 1150 50  0001 C CNN
	1    8750 1150
	1    0    0    -1  
$EndComp
Wire Wire Line
	8750 1150 8750 1400
Wire Wire Line
	8750 1500 8800 1500
$Comp
L power:GND #PWR0105
U 1 1 613BBF90
P 9250 1500
F 0 "#PWR0105" H 9250 1250 50  0001 C CNN
F 1 "GND" H 9400 1450 50  0000 C CNN
F 2 "" H 9250 1500 50  0001 C CNN
F 3 "" H 9250 1500 50  0001 C CNN
	1    9250 1500
	1    0    0    -1  
$EndComp
Wire Wire Line
	9250 1500 9100 1500
$Comp
L power:GND #PWR0106
U 1 1 613BC412
P 8800 1850
F 0 "#PWR0106" H 8800 1600 50  0001 C CNN
F 1 "GND" H 8805 1677 50  0000 C CNN
F 2 "" H 8800 1850 50  0001 C CNN
F 3 "" H 8800 1850 50  0001 C CNN
	1    8800 1850
	1    0    0    -1  
$EndComp
Wire Wire Line
	8800 1850 8800 1800
Wire Wire Line
	8800 1800 8750 1800
$Comp
L Device:R R3
U 1 1 613BD017
P 8950 1700
F 0 "R3" V 8835 1700 50  0000 C CNN
F 1 "470" V 8744 1700 50  0000 C CNN
F 2 "" V 8880 1700 50  0001 C CNN
F 3 "~" H 8950 1700 50  0001 C CNN
	1    8950 1700
	0    -1   -1   0   
$EndComp
Wire Wire Line
	8750 1700 8800 1700
Wire Wire Line
	9100 1700 9300 1700
Text GLabel 9300 1800 2    50   Input ~ 0
RX1
Wire Wire Line
	9300 1800 9300 1700
Connection ~ 9300 1700
Wire Wire Line
	9300 1700 9600 1700
Text GLabel 1750 1600 0    50   Input ~ 0
RX1
Wire Wire Line
	1750 1600 1900 1600
Text GLabel 1750 1700 0    50   Input ~ 0
TX1
Wire Wire Line
	1750 1700 1900 1700
Wire Wire Line
	6350 1300 6350 1350
Wire Wire Line
	6350 1650 6350 1700
Wire Wire Line
	7850 1750 8150 1750
Wire Wire Line
	8150 1750 8150 1700
Wire Wire Line
	7850 1450 8150 1450
Wire Wire Line
	8150 1450 8150 1500
$Comp
L Device:R R1
U 1 1 613C24C1
P 7450 1450
F 0 "R1" V 7335 1450 50  0000 C CNN
F 1 "470" V 7244 1450 50  0000 C CNN
F 2 "" V 7380 1450 50  0001 C CNN
F 3 "~" H 7450 1450 50  0001 C CNN
	1    7450 1450
	0    -1   -1   0   
$EndComp
Wire Wire Line
	7600 1450 7850 1450
Connection ~ 7850 1450
Text GLabel 7200 1450 0    50   Input ~ 0
IN_4
Text GLabel 7200 1750 0    50   Input ~ 0
IN_5
Wire Wire Line
	7200 1750 7850 1750
Connection ~ 7850 1750
Wire Wire Line
	7300 1450 7200 1450
Text GLabel 7400 3500 0    50   Input ~ 0
IN_4
Text GLabel 8200 3500 2    50   Input ~ 0
IN_5
Wire Wire Line
	8200 3500 8100 3500
Wire Wire Line
	7400 3500 7500 3500
$Comp
L power:GND #PWR0107
U 1 1 613C9A99
P 9950 3050
F 0 "#PWR0107" H 9950 2800 50  0001 C CNN
F 1 "GND" H 9955 2877 50  0000 C CNN
F 2 "" H 9950 3050 50  0001 C CNN
F 3 "" H 9950 3050 50  0001 C CNN
	1    9950 3050
	1    0    0    -1  
$EndComp
Wire Wire Line
	9800 3300 9800 3050
Wire Wire Line
	9800 3050 9950 3050
$Comp
L Device:R R5
U 1 1 613CA8FA
P 10300 3500
F 0 "R5" V 10507 3500 50  0000 C CNN
F 1 "47" V 10416 3500 50  0000 C CNN
F 2 "" V 10230 3500 50  0001 C CNN
F 3 "~" H 10300 3500 50  0001 C CNN
	1    10300 3500
	0    -1   -1   0   
$EndComp
$Comp
L Device:R R4
U 1 1 613CAFE3
P 9300 3500
F 0 "R4" V 9507 3500 50  0000 C CNN
F 1 "47" V 9416 3500 50  0000 C CNN
F 2 "" V 9230 3500 50  0001 C CNN
F 3 "~" H 9300 3500 50  0001 C CNN
	1    9300 3500
	0    -1   -1   0   
$EndComp
Text GLabel 10550 3500 2    50   Input ~ 0
TX1
Wire Wire Line
	9050 3500 9150 3500
Wire Wire Line
	9450 3500 9500 3500
Wire Wire Line
	10550 3500 10450 3500
Wire Wire Line
	10150 3500 10100 3500
$Comp
L power:+3.3V #PWR0108
U 1 1 613CF96F
P 9050 3500
F 0 "#PWR0108" H 9050 3350 50  0001 C CNN
F 1 "+3.3V" H 9065 3673 50  0000 C CNN
F 2 "" H 9050 3500 50  0001 C CNN
F 3 "" H 9050 3500 50  0001 C CNN
	1    9050 3500
	1    0    0    -1  
$EndComp
NoConn ~ 10100 3600
NoConn ~ 9500 3600
NoConn ~ 8100 3600
NoConn ~ 7500 3600
NoConn ~ 7800 3300
$Comp
L power:+5V #PWR0109
U 1 1 613D173F
P 4350 1500
F 0 "#PWR0109" H 4350 1350 50  0001 C CNN
F 1 "+5V" H 4365 1673 50  0000 C CNN
F 2 "" H 4350 1500 50  0001 C CNN
F 3 "" H 4350 1500 50  0001 C CNN
	1    4350 1500
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR0110
U 1 1 613D1860
P 4600 1700
F 0 "#PWR0110" H 4600 1550 50  0001 C CNN
F 1 "+3.3V" H 4615 1873 50  0000 C CNN
F 2 "" H 4600 1700 50  0001 C CNN
F 3 "" H 4600 1700 50  0001 C CNN
	1    4600 1700
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0111
U 1 1 613D1D94
P 4850 1500
F 0 "#PWR0111" H 4850 1250 50  0001 C CNN
F 1 "GND" H 4855 1327 50  0000 C CNN
F 2 "" H 4850 1500 50  0001 C CNN
F 3 "" H 4850 1500 50  0001 C CNN
	1    4850 1500
	1    0    0    -1  
$EndComp
Wire Wire Line
	4850 1500 4850 1300
Wire Wire Line
	4450 1600 4100 1600
Wire Wire Line
	4600 1700 4100 1700
Wire Wire Line
	4100 1500 4350 1500
NoConn ~ 4100 4550
NoConn ~ 4100 4450
NoConn ~ 4100 4350
NoConn ~ 4100 4250
NoConn ~ 4100 4150
NoConn ~ 4100 4050
NoConn ~ 4100 3800
NoConn ~ 4100 3700
NoConn ~ 4100 3600
NoConn ~ 4100 3500
NoConn ~ 4100 3400
NoConn ~ 4100 3300
NoConn ~ 4100 3200
NoConn ~ 4100 3100
NoConn ~ 4100 3000
NoConn ~ 4100 2900
NoConn ~ 4100 2800
NoConn ~ 4100 2700
NoConn ~ 4100 2600
NoConn ~ 4100 2500
NoConn ~ 4100 2400
NoConn ~ 4100 2300
NoConn ~ 4100 2000
NoConn ~ 4100 1900
NoConn ~ 4100 1350
NoConn ~ 1900 4650
NoConn ~ 1900 4550
NoConn ~ 1900 4450
NoConn ~ 1900 4350
NoConn ~ 1900 4250
NoConn ~ 1900 4100
NoConn ~ 1900 4000
NoConn ~ 1900 3800
NoConn ~ 1900 3700
NoConn ~ 1900 3600
NoConn ~ 1900 3500
NoConn ~ 1900 3400
NoConn ~ 1900 3300
NoConn ~ 1900 3200
NoConn ~ 1900 3100
NoConn ~ 1900 3000
NoConn ~ 1900 2900
NoConn ~ 1900 2800
NoConn ~ 1900 2700
NoConn ~ 1900 2600
NoConn ~ 1900 2500
NoConn ~ 1900 2400
NoConn ~ 1900 2300
NoConn ~ 1900 2200
NoConn ~ 1900 2100
NoConn ~ 1900 2000
NoConn ~ 1900 1900
NoConn ~ 1900 1800
$Comp
L power:GND #PWR0112
U 1 1 613E9702
P 1400 1500
F 0 "#PWR0112" H 1400 1250 50  0001 C CNN
F 1 "GND" H 1405 1327 50  0000 C CNN
F 2 "" H 1400 1500 50  0001 C CNN
F 3 "" H 1400 1500 50  0001 C CNN
	1    1400 1500
	1    0    0    -1  
$EndComp
Wire Wire Line
	1400 1500 1900 1500
NoConn ~ 3300 4950
NoConn ~ 3150 4950
NoConn ~ 3000 4950
NoConn ~ 2850 4950
NoConn ~ 2700 4950
$Comp
L Switch:SW_Push SW1
U 1 1 613D9497
P 7800 4800
F 0 "SW1" H 7800 5085 50  0000 C CNN
F 1 "Primary Button" H 7800 4994 50  0000 C CNN
F 2 "" H 7800 5000 50  0001 C CNN
F 3 "~" H 7800 5000 50  0001 C CNN
	1    7800 4800
	1    0    0    -1  
$EndComp
$Comp
L Switch:SW_Push SW2
U 1 1 613D9CFA
P 7800 5350
F 0 "SW2" H 7800 5635 50  0000 C CNN
F 1 "Secondary Button" H 7750 5550 50  0000 C CNN
F 2 "" H 7800 5550 50  0001 C CNN
F 3 "~" H 7800 5550 50  0001 C CNN
	1    7800 5350
	1    0    0    -1  
$EndComp
Text GLabel 7500 4800 0    50   Input ~ 0
B1
Text GLabel 7500 5350 0    50   Input ~ 0
B2
Wire Wire Line
	7500 5350 7600 5350
Wire Wire Line
	7500 4800 7600 4800
Wire Wire Line
	8000 5350 8100 5350
Wire Wire Line
	8100 5350 8100 4800
Wire Wire Line
	8100 4800 8000 4800
$Comp
L power:GND #PWR02
U 1 1 613DC93B
P 8100 5350
F 0 "#PWR02" H 8100 5100 50  0001 C CNN
F 1 "GND" H 8105 5177 50  0000 C CNN
F 2 "" H 8100 5350 50  0001 C CNN
F 3 "" H 8100 5350 50  0001 C CNN
	1    8100 5350
	1    0    0    -1  
$EndComp
Connection ~ 8100 5350
Text GLabel 7500 5750 0    50   Input ~ 0
B1
Text GLabel 4200 2200 2    50   Input ~ 0
B1
Text GLabel 4200 2100 2    50   Input ~ 0
B2
Wire Wire Line
	4200 2100 4100 2100
Wire Wire Line
	4200 2200 4100 2200
$Comp
L Connector:Conn_01x02_Female J3
U 1 1 613DFFB4
P 7850 5750
F 0 "J3" H 7878 5726 50  0000 L CNN
F 1 "Footpedal" H 7878 5635 50  0000 L CNN
F 2 "" H 7850 5750 50  0001 C CNN
F 3 "~" H 7850 5750 50  0001 C CNN
	1    7850 5750
	1    0    0    -1  
$EndComp
Wire Wire Line
	7500 5750 7650 5750
$Comp
L power:GND #PWR01
U 1 1 613E15D2
P 7550 5850
F 0 "#PWR01" H 7550 5600 50  0001 C CNN
F 1 "GND" H 7555 5677 50  0000 C CNN
F 2 "" H 7550 5850 50  0001 C CNN
F 3 "" H 7550 5850 50  0001 C CNN
	1    7550 5850
	1    0    0    -1  
$EndComp
Wire Wire Line
	7550 5850 7650 5850
Text GLabel 9300 5050 0    50   Input ~ 0
LED_DATA
$Comp
L power:+5V #PWR03
U 1 1 613E2E80
P 9800 4700
F 0 "#PWR03" H 9800 4550 50  0001 C CNN
F 1 "+5V" H 9815 4873 50  0000 C CNN
F 2 "" H 9800 4700 50  0001 C CNN
F 3 "" H 9800 4700 50  0001 C CNN
	1    9800 4700
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR04
U 1 1 613E327F
P 9800 5400
F 0 "#PWR04" H 9800 5150 50  0001 C CNN
F 1 "GND" H 9805 5227 50  0000 C CNN
F 2 "" H 9800 5400 50  0001 C CNN
F 3 "" H 9800 5400 50  0001 C CNN
	1    9800 5400
	1    0    0    -1  
$EndComp
Text GLabel 4550 1800 2    50   Input ~ 0
LED_DATA
Wire Wire Line
	4450 1600 4450 1300
Wire Wire Line
	4450 1300 4850 1300
Wire Wire Line
	4100 1800 4550 1800
Text Notes 500  7750 0    50   ~ 0
Based on schematic from https://www.pjrc.com/teensy/td_libs_MIDI.html
$Comp
L Device:LED D2
U 1 1 613F1F7F
P 9500 5850
F 0 "D2" H 9493 5595 50  0000 C CNN
F 1 "Power" H 9493 5686 50  0000 C CNN
F 2 "" H 9500 5850 50  0001 C CNN
F 3 "~" H 9500 5850 50  0001 C CNN
	1    9500 5850
	-1   0    0    1   
$EndComp
$Comp
L Device:R R6
U 1 1 613F25D0
P 9100 5850
F 0 "R6" V 8893 5850 50  0000 C CNN
F 1 "220" V 8984 5850 50  0000 C CNN
F 2 "" V 9030 5850 50  0001 C CNN
F 3 "~" H 9100 5850 50  0001 C CNN
	1    9100 5850
	0    1    1    0   
$EndComp
Wire Wire Line
	9250 5850 9350 5850
$Comp
L power:GND #PWR06
U 1 1 613F4184
P 9750 5850
F 0 "#PWR06" H 9750 5600 50  0001 C CNN
F 1 "GND" H 9755 5677 50  0000 C CNN
F 2 "" H 9750 5850 50  0001 C CNN
F 3 "" H 9750 5850 50  0001 C CNN
	1    9750 5850
	1    0    0    -1  
$EndComp
Wire Wire Line
	9650 5850 9750 5850
$Comp
L power:+5V #PWR05
U 1 1 613F66F8
P 8850 5850
F 0 "#PWR05" H 8850 5700 50  0001 C CNN
F 1 "+5V" H 8865 6023 50  0000 C CNN
F 2 "" H 8850 5850 50  0001 C CNN
F 3 "" H 8850 5850 50  0001 C CNN
	1    8850 5850
	1    0    0    -1  
$EndComp
Wire Wire Line
	8850 5850 8950 5850
$Comp
L LED:WS2812B D3
U 1 1 61405613
P 9800 5050
F 0 "D3" H 10144 5096 50  0000 L CNN
F 1 "WS2812B" H 10144 5005 50  0000 L CNN
F 2 "LED_SMD:LED_WS2812B_PLCC4_5.0x5.0mm_P3.2mm" H 9850 4750 50  0001 L TNN
F 3 "https://cdn-shop.adafruit.com/datasheets/WS2812B.pdf" H 9900 4675 50  0001 L TNN
	1    9800 5050
	1    0    0    -1  
$EndComp
Wire Wire Line
	9800 4700 9800 4750
Wire Wire Line
	9800 5400 9800 5350
Wire Wire Line
	9300 5050 9500 5050
NoConn ~ 10100 5050
$EndSCHEMATC
